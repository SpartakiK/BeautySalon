@model Web.Models.ViewModel
@{
    ViewData["Title"] = "OrdersManagement";
}


<div style="margin-top:0.5%; margin-left:3%">
    <h4>Orders</h4>
    <a class="btn btn-secondary" href="javascript:history.back()">Go Back</a>
    <a class="btn btn-success" asp-area="" asp-controller="Order" asp-action="CreateOrder">Create New</a>
    <br />
    <h5>Search with:</h5>
    <div class="input-group">

        <form action="/Order/OrdersManagement" method="get">
            <label>Order id:</label>
            <input type="search" name="orderid" class="form-control" />
        </form>

        <form action="/Order/OrdersManagement" method="get">
            <label>Customer id:</label>
            <input type="search" name="customerid" class="form-control" />
        </form>
        <form action="/Order/OrdersManagement" method="get">
            <label>Customer phonenumber:</label>
            <input type="search" name="customerphonenumber" class="form-control" />
        </form>
        <form action="/Order/OrdersManagement" method="get">
            <label>Employee id:</label>
            <input type="search" name="employeeid" class="form-control" />
        </form>
    </div>
</div>
@if (Model.Orders != null)
{
    <table class="table" style="background-color: #E7E5DC ">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Order.Id)
                </th>
                <th>
                    Employee Id
                </th>
                <th>
                    Employee Name
                </th>
                <th>
                    Customer Id
                </th>
                <th>
                    Customer Name
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Order.Stage)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Order.MakingDate)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Order.TotalPrice)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Order.AdditionalInfo)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Order.CreationDate)
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Orders)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Id)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Employee.Id)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Employee.User.Name)
                        @Html.DisplayFor(modelItem => item.Employee.User.Surname)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Customer.Id)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Customer.Name)
                        @Html.DisplayFor(modelItem => item.Customer.Surname)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Stage)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.MakingDate)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.TotalPrice)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.AdditionalInfo)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.CreationDate)
                    </td>
                    <td>
                        @Html.ActionLink("Edit", "EditOrder", new { orderid = item.Id }) |
                        @Html.ActionLink("Details", "OrderDetails", new { orderid = item.Id }) |
                        @Html.ActionLink("AddDetails", "AddOrderDetails", new { orderid = item.Id }) |
                        @Html.ActionLink("Delete", "DeleteOrder", new { orderid = item.Id })

                    </td>
                </tr>
            }
        </tbody>
    </table>
}


@if (Model.Order != null)
{
    <div style="margin-left: 0.5%; background-color: #E7E5DC ">
        <div style="margin-top: 0.5%;">
            <dl class="row">
                <dt class="col-sm-2">
                    Order Id
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Order.Id)
                </dd>
                <dt class="col-sm-2">
                    Employee Id
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Order.Employee.Id)
                </dd>
                <dt class="col-sm-2">
                    Employee Name
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Order.Employee.User.Name)
                    @Html.DisplayFor(model => model.Order.Employee.User.Surname)
                </dd>
                <dt class="col-sm-2">
                    Customer Id
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Order.Customer.Id)
                </dd>
                <dt class="col-sm-2">
                    Customer Name
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Order.Customer.Name)
                    @Html.DisplayFor(model => model.Order.Customer.Surname)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Order.AdditionalInfo)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Order.AdditionalInfo)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Order.MakingDate)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Order.MakingDate)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Order.Stage)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Order.Stage)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Order.TotalPrice)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Order.TotalPrice)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.Order.CreationDate)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Order.CreationDate)
                </dd>
            </dl>
            @Html.ActionLink("Edit", "EditOrder", new { orderid = Model.Order.Id }) |
            @Html.ActionLink("Details", "OrderDetails", new { orderid = Model.Order.Id }) |
            @Html.ActionLink("AddDetails", "AddOrderDetails", new { orderid = Model.Order.Id }) |
            @Html.ActionLink("Delete", "DeleteOrder", new { orderid = Model.Order.Id })
        </div>
    </div>
}
<h2>@Model?.Message</h2>